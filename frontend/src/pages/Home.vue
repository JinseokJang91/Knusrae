<template>
  <section>
    <h1 class="text-2xl font-bold mb-2">μ–΄μ„μ¤μ„Έμ” π‘‹</h1>
    <p>κ²€μƒ‰ν•κ±°λ‚ μµμ‹  λ μ‹ν”Όλ¥Ό ν™•μΈν•΄λ³΄μ„Έμ”.</p>
    <SearchBar class="mt-4" @search="onSearch" />
    <RecipeList class="mt-6" :recipes="recipes" />
  </section>
</template>

<script setup lang="ts">
import { onMounted, ref } from 'vue'
import { useRecipes } from '../composables/useRecipes'
import SearchBar from '../components/SearchBar.vue'
import RecipeList from '../components/RecipeList.vue'

const { items, fetch } = useRecipes()
const recipes = items

onMounted(() => fetch({ page: 1, pageSize: 20 }))

function onSearch(q: string) { fetch({ q, page: 1, pageSize: 20 }) }
</script>